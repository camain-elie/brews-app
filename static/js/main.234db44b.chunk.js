(this["webpackJsonpbrews-app"]=this["webpackJsonpbrews-app"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(22),c=a.n(r),i=(a(29),a(10)),o=a(2),l=a(8),h=a(9),d=a(7),p=a(12),b=a(11),j=a(24),u=(a(30),a(0));var y=function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),s=a[0],r=a[1];return Object(u.jsx)("div",{className:"search",children:Object(u.jsxs)("div",{className:"search__input",children:[Object(u.jsx)("p",{className:"search__icon ".concat(s?"search__icon--text":""," material-icons-outlined"),children:"sports_bar"}),Object(u.jsxs)("form",{onSubmit:function(t){return e.handleSearch(t,s)},children:[Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return r(e.target.value)},placeholder:"Complete name or part of the name of the brewery"}),Object(u.jsx)("button",{type:"submit",children:"Search"})]})]})})},O=(a(32),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={location:"",breweryType:"",position:!1},n}return Object(h.a)(a,[{key:"handleLocation",value:function(e){this.setState({location:e.target.value}),this.props.handleLocation(e)}},{key:"handlePositionClick",value:function(){this.setState({position:!this.state.position}),this.props.handlePositionClick()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"options",children:[Object(u.jsxs)("div",{className:"options__group",children:[Object(u.jsx)("p",{className:"options__name",children:"BREWERY TYPE"}),Object(u.jsxs)("select",{value:this.state.breweryType,onChange:function(t){e.setState({breweryType:t.target.value}),e.props.handleTypeChange(t)},children:[Object(u.jsx)("option",{value:"",children:"All"}),Object(u.jsx)("option",{value:"micro",children:"Micro"}),Object(u.jsx)("option",{value:"nano",children:"Nano"}),Object(u.jsx)("option",{value:"regional",children:"Regional"}),Object(u.jsx)("option",{value:"brewpub",children:"Brewpub"}),Object(u.jsx)("option",{value:"large",children:"Large"}),Object(u.jsx)("option",{value:"planning",children:"Not opened yet"}),Object(u.jsx)("option",{value:"contract",children:"On contract brewery"}),Object(u.jsx)("option",{value:"proprietor",children:"Proprietor"}),Object(u.jsx)("option",{value:"closed",children:"Closed"})]})]}),Object(u.jsxs)("div",{className:"options__group",children:[Object(u.jsx)("p",{className:"options__name",children:"LOCATION"}),Object(u.jsxs)("div",{className:"options__input",children:[Object(u.jsx)("p",{className:"material-icons options__label".concat(""!==this.state.location?"--text":""),children:"public"}),Object(u.jsx)("input",{type:"text",placeholder:"Enter a city",value:this.state.location,onChange:function(t){e.setState({location:t.target.value}),e.props.handleLocation(t)}}),Object(u.jsx)("p",{className:"material-icons options__position".concat(this.props.position?"--active":""),onClick:function(){return e.handlePositionClick()},children:"gps_fixed"})]}),Object(u.jsxs)("div",{className:"options__radio",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(t){return e.handleLocation(t)},type:"radio",value:"London",name:"location",checked:"London"===this.state.location}),"London"]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(t){return e.handleLocation(t)},type:"radio",value:"Dublin",name:"location",checked:"Dublin"===this.state.location}),"Dublin"]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(t){return e.handleLocation(t)},type:"radio",value:"New York",name:"location",checked:"New York"===this.state.location}),"New York"]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(t){return e.handleLocation(t)},type:"radio",value:"Los Angeles",name:"location",checked:"Los Angeles"===this.state.location}),"Los Angeles"]})]})]})]})}}]),a}(n.Component)),m=a(14),x=a.n(m),g=a(16);a(34);var v=function(e){if(e.totalPages<2)return Object(u.jsx)("div",{className:"pages"});for(var t=e.totalPages,a=e.currentPage,n=[],s=1;s<=t;s++)1===s||s===t||s>=a-1&&s<=a+1?n.push(s):s!==a-2&&s!==a+2||n.push("...");return Object(u.jsxs)("div",{className:"pages",children:[Object(u.jsx)("div",{className:"pages__arrow".concat(1===a?"--disabled":""),onClick:function(){return e.changeOnePage(-1)},children:Object(u.jsx)("p",{className:"material-icons",children:"chevron_left"})}),n.map((function(t,n){return"..."===t?Object(u.jsx)("div",{className:"pages__more",children:Object(u.jsx)("p",{children:t})},n):Object(u.jsx)("div",{className:"pages__number ".concat(t===a?"pages__number--current":""),onClick:function(){return e.changeToPage(t)},children:Object(u.jsx)("p",{children:t})},n)})),Object(u.jsx)("div",{className:"pages__arrow".concat(a===t?"--disabled":""),onClick:function(){return e.changeOnePage(1)},children:Object(u.jsx)("p",{className:"material-icons",children:"chevron_right"})})]})};function _(e){var t=Date.parse(new Date),a=Date.parse(e),n=Math.round((t-a)/1e3/3600/24);return n<=1?1===n?"Yesterday":"Today":n<7?n+" days ago":n<=364?Math.round(n/30.4)+" month"+(n<46?"":"s")+" ago":Math.round(n/365.25)+" year"+(n<548?"":"s")+" ago"}a(35);var w=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getBrews=Object(g.a)(x.a.mark((function e(){var t,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getURL(),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)}))),n.changeOnePage=n.changeOnePage.bind(Object(d.a)(n)),n.changeToPage=n.changeToPage.bind(Object(d.a)(n)),n.state={currentPage:1,totalPages:1,breweryList:[],breweryName:n.props.name,breweryType:n.props.type,breweryLocation:n.props.location,userPosition:n.props.position},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getBrews().then((function(t){return e.setState({breweryList:t,currentPage:1,totalPages:Math.ceil(t.length/5)})})).catch((function(e){return console.error(e)}))}},{key:"getURL",value:function(){var e,t;return this.props.name&&(e=this.props.name.split(" ").join("_")),this.props.location&&(t=this.props.location.split(" ").join("_").toLowerCase()),"".concat("https://api.openbrewerydb.org/breweries?per_page=50").concat(e?"&by_name=".concat(e):"").concat(this.props.type?"&by_type=".concat(this.props.type):"").concat(t?"&by_city=".concat(t):"").concat(this.props.position?"&by_dist=".concat(this.props.position):"")}},{key:"changeOnePage",value:function(e){1===this.state.currentPage&&e<0||this.state.currentPage===this.state.totalPages&&e>0||this.setState({currentPage:this.state.currentPage+e})}},{key:"changeToPage",value:function(e){Number.isInteger(e)&&this.setState({currentPage:e})}},{key:"generateResults",value:function(){var e=this.state,t=e.breweryList.slice(5*(e.currentPage-1),5*e.currentPage);return t.length?t.map((function(e,t){return Object(u.jsxs)(i.b,{className:"breweries__element",to:"/brewery/".concat(e.id),children:[Object(u.jsx)("p",{className:"material-icons breweries__image",children:"sports_bar"}),Object(u.jsxs)("div",{className:"breweries__wrapper",children:[Object(u.jsxs)("div",{className:"breweries__description",children:[Object(u.jsx)("p",{children:e.name}),Object(u.jsx)("p",{className:"breweries__type",children:e.brewery_type})]}),Object(u.jsxs)("div",{className:"breweries__info",children:[Object(u.jsxs)("p",{className:"breweries__icon",children:[Object(u.jsx)("span",{className:"material-icons",children:"public"}),e.city,e.city&&e.country?" - ":"",e.country]}),Object(u.jsxs)("p",{className:"breweries__icon",children:[Object(u.jsx)("span",{className:"material-icons",children:"schedule"}),_(e.updated_at)]})]})]})]},t)})):Object(u.jsxs)("div",{className:"breweries__no-result",children:[Object(u.jsx)("p",{className:"material-icons breweries__smiley",children:"sentiment_very_dissatisfied"}),Object(u.jsx)("p",{children:"We are sorry, we did not find any result, try again !"})]})}},{key:"render",value:function(){var e=this,t=this.state;this.props.name===t.breweryName&&this.props.type===t.breweryType&&this.props.location===t.breweryLocation&&this.props.position===t.userPosition||this.getBrews().then((function(t){return e.setState({breweryList:t,currentPage:1,totalPages:Math.ceil(t.length/5),breweryName:e.props.name,breweryType:e.props.type,breweryLocation:e.props.location,userPosition:e.props.position})})).catch((function(e){return console.error(e)}));var a=this.generateResults();return Object(u.jsxs)("div",{className:"breweries",name:this.props.name,type:this.props.type,children:[a,Object(u.jsx)(v,{currentPage:t.currentPage,totalPages:t.totalPages,changeOnePage:this.changeOnePage,changeToPage:this.changeToPage})]})}}]),a}(n.Component),f=(a(41),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSearch=n.handleSearch.bind(Object(d.a)(n)),n.handleTypeChange=n.handleTypeChange.bind(Object(d.a)(n)),n.handleLocation=n.handleLocation.bind(Object(d.a)(n)),n.handlePositionClick=n.handlePositionClick.bind(Object(d.a)(n)),n.state={breweryName:"",location:"",breweryType:"",position:""},n}return Object(h.a)(a,[{key:"handleSearch",value:function(e,t){e.preventDefault(),this.setState({breweryName:t})}},{key:"handleTypeChange",value:function(e){this.setState({breweryType:e.target.value})}},{key:"handleLocation",value:function(e){this.setState({location:e.target.value})}},{key:"handlePositionClick",value:function(){this.state.position?this.setState({position:""}):this.setUserPosition()}},{key:"setUserPosition",value:function(){var e=this;try{navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude+","+t.coords.longitude;e.setState({position:a})}),(function(e){return console.error(e)}))}catch(t){console.log(t),this.setState({position:"36,-120"})}}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"search-brew",children:[Object(u.jsx)(y,{handleSearch:this.handleSearch}),Object(u.jsxs)("div",{className:"search-brew__content",children:[Object(u.jsx)(O,{handleTypeChange:this.handleTypeChange,handleLocation:this.handleLocation,handlePositionClick:this.handlePositionClick,position:this.state.position}),Object(u.jsx)(w,{name:this.state.breweryName,location:this.state.location,type:this.state.breweryType,position:this.state.position})]})]})}}]),a}(n.Component)),N=(a(42),function(){var e=Object(g.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.openbrewerydb.org/breweries/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.breweryId;N(t).then((function(t){e.setState({data:t,isLoading:!0})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.state;return Object(u.jsx)("div",{className:"brewery",children:e.isLoading&&Object(u.jsxs)("div",{className:"brewery__page",children:[Object(u.jsxs)("div",{className:"brewery__side",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsxs)("p",{className:"brewery__back",children:[Object(u.jsx)("span",{className:"brewery__back-icon material-icons",children:"trending_flat"}),"Back to search"]})}),Object(u.jsxs)("div",{className:"brewery__contact",children:[Object(u.jsx)("h2",{children:"HOW TO CONTACT US"}),e.data.phone&&Object(u.jsxs)("p",{className:"",children:[Object(u.jsx)("span",{className:"material-icons brewery__icon",children:"call"})," ",e.data.phone]}),e.data.website_url&&Object(u.jsx)("a",{className:"brewery__link",href:e.data.website_url,target:"_blank",rel:"noreferrer noopener",children:e.data.website_url}),Object(u.jsxs)("div",{className:"brewery__address",children:[e.data.street&&Object(u.jsx)("p",{children:e.data.street}),e.data.address_2&&Object(u.jsx)("p",{children:e.data.address_2}),e.data.address_3&&Object(u.jsx)("p",{children:e.data.address_3}),(e.data.postal_code||e.data.city)&&Object(u.jsx)("p",{children:e.data.postal_code+" "+e.data.city}),Object(u.jsxs)("p",{children:[e.data.state?e.data.state+", ":"",e.data.country]})]})]})]}),Object(u.jsxs)("div",{className:"brewery__content",children:[Object(u.jsxs)("div",{className:"brewery__name",children:[Object(u.jsx)("h1",{children:e.data.name}),Object(u.jsx)("p",{className:"brewery__type",children:e.data.brewery_type})]}),Object(u.jsxs)("p",{className:"brewery__icon-text",children:[Object(u.jsx)("span",{className:"material-icons brewery__icon",children:"schedule"})," ",_(e.data.updated_at)]}),Object(u.jsxs)("p",{className:"brewery__icon-text",children:[Object(u.jsx)("span",{className:"material-icons brewery__icon",children:"public"})," ",e.data.city,e.data.city&&e.data.country?" - ":"",e.data.country]}),Object(u.jsxs)("div",{className:"brewery__description",children:[Object(u.jsx)("p",{className:"brewery__description--note",children:"Note : as the API does not provide a description for each brewery, the following description will be the same for every brewery."}),Object(u.jsx)("p",{children:"This brewery company is an independent craft brewery located in Beer City in the Hoppy District. It is Beer City's first brewery, and also the oldest brewery of the country !"}),Object(u.jsx)("p",{children:"We produce around 1200 gallons a month, although we sell onlly about half of that. The second half seems to always be missing, due to... hum... mysterious reasons \ud83d\ude07"}),Object(u.jsx)("p",{children:"I will have to be honnest here, my imagination just ran out and I am getting fed up of writting so... I hope nobody is reading this far. Cause this won't get any more interesting. And I am sure you have better things to do. Won't you go clean the dishes, or make some fantastic projects ? Really, instead of reading all of that, you could have accomplished your dreams."}),Object(u.jsx)("p",{children:"Well maybe not, but still. Go play the piano, write a poem or better, enjoy a beer in the company of your beloved friends ! What ? Don't have any friends ? Hum... lucky you ! I happen to just have a few beers in the fridge and I'm probably only a few thousands miles away, so... come over dude ! In the meanwhile, have a great day ! See ya !"}),Object(u.jsx)("p",{className:"brewery__description--note",children:"Pfew... that was exausting !"})]}),Object(u.jsx)("div",{className:"brewery__website",children:this.state.data.website_url?Object(u.jsx)("iframe",{title:"Brewery's website",src:this.state.data.website_url}):Object(u.jsx)("p",{children:"It looks like this brewery does not have any website !"})})]})]})})}}]),a}(n.Component),P=Object(o.f)(k);a(43);var C=function(){return Object(u.jsxs)("div",{className:"not-found",children:[Object(u.jsx)("p",{className:"material-icons not-found__smiley",children:"sentiment_very_dissatisfied"}),Object(u.jsx)("p",{children:"We are sorry, we were anable to find the content you are looking for. It looks like there is a small mistake in the url."}),Object(u.jsx)("p",{children:"Have another try !"})]})};a(44);var L=function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Brews"})," App"]})})})};a(45);var T=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(L,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:["/","/brews-app"],children:Object(u.jsx)(f,{})}),Object(u.jsx)(o.a,{path:"/brewery/:breweryId",children:Object(u.jsx)(P,{})}),Object(u.jsx)(o.a,{path:"/*",children:Object(u.jsx)(C,{})})]})]})})};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.234db44b.chunk.js.map